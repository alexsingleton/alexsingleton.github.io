[
  {
    "objectID": "blog.html",
    "href": "blog.html",
    "title": "Blog",
    "section": "",
    "text": "Order By\n       Default\n         \n          Title\n        \n         \n          Date - Oldest\n        \n         \n          Date - Newest\n        \n     \n  \n    \n      \n      \n    \n\n\n\n\n\n\n\n\n\n\n\n\nR\n\n\nEnergy\n\n\nCode\n\n\n\n\nSep 30, 2022\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nR\n\n\nWindows\n\n\nRstudio\n\n\n\n\nSep 7, 2022\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "books.html",
    "href": "books.html",
    "title": "Books",
    "section": "",
    "text": "No matching items"
  },
  {
    "objectID": "content/blog/2022-09-07-WSL2/index.html",
    "href": "content/blog/2022-09-07-WSL2/index.html",
    "title": "Getting Rstudio Running Under Windows 11 with WSL2",
    "section": "",
    "text": "Install WSL 2\nFrom the start menu right click PowerShell “Run as Administrator”. Type into the terminal that opens:\nwsl --install\nWait for the installation to complete; which also installs Ubuntu by default.\n\n\nSetup Docker\nDownload Docker Desktop for Windows. There is a prominent button on this linked page.\nWhen this has downloaded, double click to open and run the “Docker Desktop Installer.exe” file which should be found in your default web browser install location.\nThis will prompt you with a “Configuration” pop up. Make sure the option for “Use WSL 2 instead of Hyper-V (recommended)” is selected and click the “Ok” button. This will then install Docker.\nWhen this has completed, close the dialog box and restart Windows.\n\n\nPost Setup\nAfter the reboot, you will get a terminal popup that completes the Ubuntu install. This will ask you for a username. Use something memorable and type into the prompt in all lower case letters, then press enter. You will then be asked to setup a password for the installation too; choose something you will remember, type into the prompt and press enter. You can close the Ubuntu terminal window.\nYou should also see a Docker Desktop icon your Desktop or Start Menu. If you double click this and accept the T&C on the popup prompt, it will run Docker Desktop. This is the interface where you can see what images you have downloaded, and what containers you currently have setup, along with their current status .. ie if they are running or not. This will all be empty at the minute as you have not yet downloaded an image or started a container.\n\n\nSetup a Container for Rstudio\nThe next step is to download a docker image, which contains R, Rstudio and lots of useful packages. Before we do this, we will create a folder which you can use for your R projects - you can change this, but as an example we will create a new folder called “r_projects” in the root of your C: drive (e.g. “C:_projects”). You will be able to find the C: drive using the “File Explorer” from the start menu.\nNext, we will now run a Docker command that will:\n\nSetup a new instance called Test_R (you can change this name to whatever your project is).\nSetup a password for Rstudio - this is “secret”, but can be anything you like.\nAutomatically downloads an image - in this case we will use rocker/geospatial.\n\nopen PowerShell again from the start menu and run the following command:\ndocker run -e ROOT=true --name Test_R -v C:\\r_projects:/home/ -e PASSWORD=secret -p 8787:8787 rocker/geospatial\nYou might get a notification about Windows Defender Firewall - you will need to agree to this for Docker to run.\n\n\nRun Rstudio\nIn the Docker Desktop Application, under “Containers” you will now see that your “Test_R” container is running. This also lists the image that it is using as “rocker/geospatial”. You can have multiple containers running from the same image; so you might want to create one for each new project; although you typically only run one at a time. On the far right hand side you will also see a stop button which can be used to stop the container running.\nThere is also a square button with an arrow on it; which can be used to open Rstudio. Alternatively, you can type the following URL in a web browser: http://localhost:8787/.\nThis will open the Rstudio interface and ask for a username and password. These will be “rstudio” and whatever password you specified. As written above this was “secret”. You will then have a full Rstudio instance running in the web browser!"
  },
  {
    "objectID": "content/blog/2022-09-28-Energy-Data/index.html",
    "href": "content/blog/2022-09-28-Energy-Data/index.html",
    "title": "Mapping Energy Poverty",
    "section": "",
    "text": "The purpose of this post is to provide a methodological note about how small area energy related statistics can be derived for Great Britain from open sources. This details the code and analytic frameworks needed, and also some of the caveats that need to be associated with the use and presentation of information derived from specific sources of data.\nThe analysis looks at:\n\nThe geography of estimated consumer energy use and its cost\nThe supply of energy efficient buildings\nThe cost of energy relative to income\nThe number of people who may be in “energy poverty”\n\n\n\nThe first stage of this work is to load some necessary packages, and set some later used parameters that enable the code to be run for different locations and energy cost scenarios.\n\nlibrary(tidyverse)\nlibrary(magrittr)\nlibrary(readxl)\nlibrary(janitor) # For name cleaning\nlibrary(sf)\nlibrary(classInt)\nlibrary(arrow)\nlibrary(vroom)\nlibrary(lubridate)\nlibrary(scales)\nlibrary(knitr)\nlibrary(tmap)\n\n\n#Params (https://www.gov.uk/government/publications/\n#        energy-bills-support/energy-bills-support-factsheet-8-september-2022)\nwpc_map <- \"E14000795\" # This is a Westminster Parliamentary Constituency code\nelec_cost_kw <- 34\ngas_cost_kw <- 10.3\nstanding_gas <- 28\nstanding_elec <- 46\n\ntheme_set(theme_minimal())"
  },
  {
    "objectID": "content/blog/2022-09-28-Energy-Data/index.html#energy-estimates",
    "href": "content/blog/2022-09-28-Energy-Data/index.html#energy-estimates",
    "title": "Mapping Energy Poverty",
    "section": "Energy Estimates",
    "text": "Energy Estimates\nThere are a variety of sub national energy estimate data available, and in this study we import unit postcode level data, alongside data at Lower Layer Super Output Area / Data Zone (LSOA / DZ). Further methodological details about how these estimates are created can be found on this website.\nThe first data imported are the latest postcode level energy estimates for residential gas and electricity. To enable later data linkage, all of the spaces were removed from the postcode variable.\n\n# Gas\n\ngas <- vroom(\"https://assets.publishing.service.gov.uk/government/uploads/system/uploads/attachment_data/file/1050282/Postcode_level_gas_2020.csv\") %>%\n  mutate(POSTCODE = gsub(' ', '', POSTCODE)) %>% #Remove spaces from the postcode\n   clean_names() #Clean the variable names\n\n# Electricity\n\nelec <- vroom(\"https://assets.publishing.service.gov.uk/government/uploads/system/uploads/attachment_data/file/1050243/Postcode_level_all_meters_electricity_2020.csv\") %>%\n  mutate(POSTCODE = gsub(' ', '', POSTCODE)) %>% #Remove spaces from the postcode\n  clean_names() #Clean the variable names\n\nThen, the same data for Lower Layer Super Output Area (LSOA) (England, Wales) and Data Zones (DZ) (Scotland) were imported.\n\n#Electricity\n\nf <- curl::curl_download(\"https://assets.publishing.service.gov.uk/government/uploads/system/uploads/attachment_data/file/1050110/LSOA_domestic_elec_2010-20.xlsx\", tempfile(fileext = \".xlsx\"))\nelec_lsoa_dz <- read_excel(f,sheet = 12,skip = 4)\n\n# Gas\n\nf <- curl::curl_download(\"https://assets.publishing.service.gov.uk/government/uploads/system/uploads/attachment_data/file/1050186/LSOA_domestic_gas_2010-20.xlsx\", tempfile(fileext = \".xlsx\"))\ngas_lsoa_dz <- read_excel(f,sheet = 12,skip = 4)\n\nNot all of the columns were required in the gas and electricity LSOA / DZ data so these were removed, alongside tidying up the column names to remove spaces.\n\n# Electricity\n\nelec_lsoa_dz %<>%\n  clean_names() %>%\n  select(lsoa_code,local_authority_code,total_consumption_k_wh,number_of_meters) %>%\n  rename(elec_total_consumption_k_wh = total_consumption_k_wh) %>%\n  rename(LSOA_DZ = lsoa_code) %>%\n  rename(number_of_meters_elec = number_of_meters) %>%\n  filter(LSOA_DZ != \"Unallocated\")\n\n# Gas\n\ngas_lsoa_dz %<>%\n  clean_names() %>%\n  select(lsoa_code,total_consumption_k_wh,number_of_meters) %>%\n  rename(gas_total_consumption_k_wh = total_consumption_k_wh) %>%\n  rename(LSOA_DZ = lsoa_code) %>%\n  rename(number_of_meters_gas = number_of_meters) %>%\n  filter(LSOA_DZ != \"Unallocated\")"
  },
  {
    "objectID": "content/blog/2022-09-28-Energy-Data/index.html#address-data",
    "href": "content/blog/2022-09-28-Energy-Data/index.html#address-data",
    "title": "Mapping Energy Poverty",
    "section": "Address Data",
    "text": "Address Data\nThe Office for National Statistics Postcode Directory (ONSPD) provides a database of all postcodes in the UK, alongside descriptive measures and lookups to various containing geographies. To create a more manageable dataset, a subset of the ONSPD was created containing only postcodes within Great Britain and those variables of interest; notably a number of lookups, the IMD and OAC.\n\n#Import ONSPD\n\nf <- curl::curl_download(\"https://www.arcgis.com/sharing/rest/content/items/8e0d123a946240288c3c84cf9f9cba28/data\", tempfile(fileext = \".zip\"))\nunzip(f, files=\"Data/ONSPD_AUG_2022_UK.csv\", exdir=\".\")\nonspd <- vroom(\"Data/ONSPD_AUG_2022_UK.csv\")\n\nunlink(\"./Data/\", recursive = TRUE) #Delete downloaded file\n\n\n\n\n\nonspd  %<>%\n  filter(ctry %in% c(\"E92000001\",\"S92000003\",\"W92000004\"), # Keep England, Scotland, Wales\n        is.na(doterm)) %>% \n  select(pcd,pcon,oa11,oslaua,lsoa11,msoa11,oac11,imd,oseast1m,osnrth1m) %>% #Keep Variables\n  mutate(pcd = gsub(' ', '', pcd)) # Remove spaces from the postcode"
  },
  {
    "objectID": "content/blog/2022-09-28-Energy-Data/index.html#income-estimates",
    "href": "content/blog/2022-09-28-Energy-Data/index.html#income-estimates",
    "title": "Mapping Energy Poverty",
    "section": "Income Estimates",
    "text": "Income Estimates\nThe format and units of geography for small area income data vary between England and Wales, and Scotland.\nAt the time of putting this analysis together, the latest versions of these data related to 2018. As such, an adjustment factor of 1.05 was applied to the estimates which relates to the rate of inflation to 2021 prices from 2018. For the purpose of the analysis we are also ignoring the confidence intervals of the estimates; which are only available for the England and Wales data. There are further differences in that the England and Wales data estimates are presented for average (mean) household disposable (net) income; whereas in Scotland these are for gross income, which might also include welfare benefits, tax credits and housing benefit.\nA combined lookup is created containing both LSOA / DZ. Because the annual income estimates for England and Wales are available at Middle Layer Super Output Area (MSOA), the analysis assumes these values to be constant for all nested LSOA within each MSOA.\n\n#2018 Income Estimates - MSOA - E&W\n\new_income <- vroom(\"https://www.ons.gov.uk/file?uri=/employmentandlabourmarket/peopleinwork/earningsandworkinghours/datasets/smallareaincomeestimatesformiddlelayersuperoutputareasenglandandwales/financialyearending2018/totalannualincome2018.csv\",skip = 4) %>%\nclean_names()\n \n\n#2018 Income Estimates - Data Zones - S\n\nf <- curl::curl_download(\"https://www.gov.scot/binaries/content/documents/govscot/publications/statistics/2020/11/banded-income-statistics-2018/documents/banded-income-statistics-2018---data-zone-level/banded-income-statistics-2018---data-zone-level/govscot%3Adocument/CHMA%2B-%2B2018%2B-%2BPublication%2B-%2BLLHIE%2BEstimates%2BData%2BSummary%2B-%2B2018%2B-%2BMinor%2BRevsions%2B-%2B24%2BMay%2B2019.xlsx\"\n, tempfile(fileext = \".xlsx\"))\n\ns_income <- read_excel(f,sheet = \"Income Estimates 2018\",skip = 5) %>%\nclean_names()\n \n# Select columns to keep and calculate annual estimated income\n\new_income %<>%\n  select(msoa_code,total_annual_income) %>%\n  mutate(total_annual_income_21 = total_annual_income * 1.05)\n\ns_income %<>%\n  select(x2011_data_zone,mean_gross_household_income_per_week) %>%\n  mutate(total_annual_income_21 = (mean_gross_household_income_per_week * 52) * 1.05)\n\n# Create a LSOA MSOA lookup for England and Wales\n\nLSOA_MSOA <- onspd %>%\n  select(lsoa11,msoa11) %>%\n  distinct(lsoa11,msoa11) %>% \n    filter(substr(lsoa11, 1, 1) %in% c(\"E\",\"W\"))\n\n#Clean up and create unified file\n\nLSOA_MSOA %<>%\n  left_join(ew_income,by = c(\"msoa11\" = \"msoa_code\")) %>%\n  select(lsoa11,total_annual_income_21) %>%\n  rename(LSOA_DZ = lsoa11)\n\ns_income %<>%\n  select(x2011_data_zone, total_annual_income_21) %>%\n  rename(LSOA_DZ = x2011_data_zone)\n\nincome <- LSOA_MSOA %<>%\n  bind_rows(s_income)"
  },
  {
    "objectID": "content/blog/2022-09-28-Energy-Data/index.html#property-data",
    "href": "content/blog/2022-09-28-Energy-Data/index.html#property-data",
    "title": "Mapping Energy Poverty",
    "section": "Property Data",
    "text": "Property Data\nA Unique Property Reference Number (UPRN) aims to provide a unique identifier for every addressable location; much the same as an address might. For more information about UPRN and how they are used you can see this [website](https://www.local.gov.uk/our-support/research-and-data/data-and-transparency/using-unique-property-reference-number-uprn).\nUPRN data are downloaded and imported through the following code. The folders are unzipped and placed in the working directory. Because the data are so large, the R interface to Apache Arrow was used to create a parquet file from all the extracted CSV data.\n\n# Download UPRN data\n\nf <- curl::curl_download(\"https://www.arcgis.com/sharing/rest/content/items/116804213c0048ef94e9f190882bdbed/data\", tempfile(fileext = \".zip\"))\nunzip(f)\n\n# Extract a list of CSV files\n\nfiles <- list.files(path='./Data/',pattern=\"*.csv\",recursive = TRUE)\n\n\n# Specify a schema for the CSV\n\nsch <- schema(\nUPRN =  int64(),\nGRIDGB1E =  int64(),\nGRIDGB1N =  int64(),\nPCDS =  string(),\nCTY21CD =  string(),\nCED21CD =  string(),\nLAD21CD =  string(),\nWD21CD =  string(),\nPARNCP20CD =  string(),\nHLTH19CD =  string(),\nctry21cd =  string(),\nRGN21CD =  string(),\nPCON19CD =  string(),\nEER17CD =  string(),\nttwa15cd =  string(),\nitl21cd =  string(),\nNPARK16CD =  string(),\nOA11CD =  string(),\nlsoa11cd =  string(),\nmsoa11cd =  string(),\nWZ11CD =  string(),\nCCG21CD =  string(),\nBUA11CD =  string(),\nBUASD11CD =  string(),\nruc11ind =  string(),\noac11ind =  string(),\nlep17cd1 =  string(),\nlep17cd2 =  string(),\npfa15cd =  string(),\nimd19ind =  int64()\n)\n\n######################### ALT CODE ######################################\n# Read the CSV and convert to parquet\n\n# for(i in 1:length(files)) {  \n# assign(paste0(files[i]), \n# open_dataset(paste0(\"./Data/\",files[i]),\n#     delimiter = \",\",\n#     schema = sch,\n#     skip = 1\n#  )) %>%\n# \n#     collect() %>%\n#     write_parquet(paste0(\"./Data/\",files[i],\".parquet\"))\n# }\n# \n# # Create a unified dataset\n# \n# files <- list.files(path='./Data/',pattern=\"*.parquet\",recursive = TRUE)\n# \n# uprn <- open_dataset(paste0(\"./Data/\",files),\n#    schema = sch\n# )\n\n###########################################################################\n\n# This code only worked on a larger memory machine and can be used instead of \n# the above code that is commented out. This is two step process to create \n# then read the parquet.\n\nuprn <- open_dataset(paste0(\"./Data/\",files),\n   delimiter = \",\",\n   schema = sch,\n   skip = 1\n)\n\n# Remove UPRN in Large User Postcodes \n\nuprn <- uprn %>%\n    mutate(PCDS = gsub(' ', '', PCDS)) %>% #remove spaces from the postcode\n    filter(PCDS %in% onspd$pcd) %>% #checks if in onspd\n    collect()\n\n\n\n#Remove unwanted data\n\nunlink(\"./Documents/\", recursive = TRUE) #Delete downloaded file\nunlink(\"./User Guide/\", recursive = TRUE) #Delete downloaded file\nunlink(\"./Data/\", recursive = TRUE) #Delete downloaded file"
  },
  {
    "objectID": "content/blog/2022-09-28-Energy-Data/index.html#importing-the-spatial-data",
    "href": "content/blog/2022-09-28-Energy-Data/index.html#importing-the-spatial-data",
    "title": "Mapping Energy Poverty",
    "section": "Importing the Spatial Data",
    "text": "Importing the Spatial Data\nA number of polygon files were needed to create the later maps, however, direct links were not available for England and Wales so these were downloaded manually and loaded into R locally. These included:\n\nParliamentary Constituency Boundaries (2021)\n2011 Census Lower Layer Super Output Areas (England & Wales)\n2011 Census Intermediate Zones (Scotland)\n\n\n#Data Zones\n\nf <- curl::curl_download(\"https://maps.gov.scot/ATOM/shapefiles/SG_DataZoneBdry_2011.zip\", tempfile(fileext = \".zip\"))\nunzip(f, exdir=\"./Data\")\ndz <- read_sf(\"./Data/SG_DataZone_Bdry_2011.shp\") %>%\nst_transform(27700)\n\nunlink(\"./Data/\", recursive = TRUE) #Delete downloaded file\n\n\n#Lower Layer Super Output Areas\n\nlsoa <- read_sf(\"./Boundary_Files/Lower_Layer_Super_Output_Areas_(December_2011)_Boundaries_Full_Clipped_(BFC)_EW_V3.geojson\")  %>%\nst_transform(27700)\n\n#Westminster Parliamentary Constituencies\n\nwpc <- read_sf(\"./Boundary_Files/Westminster_Parliamentary_Constituencies_(December_2021)_UK_BFC.geojson\") %>%\nst_transform(27700)\n\nTo reduce the file sizes, only the necessary attribute columns were kept; and the LSOA and DZ were combined.\n\n#LSOA\nlsoa %<>%\n  select(LSOA11CD) %<>%\n  rename(LSOA_DZ = LSOA11CD)\n\n#DZ\ndz %<>%\n  select(DataZone) %<>%\n  rename(LSOA_DZ = DataZone)\n\n#Combine LSOA & IZ\nlsoa_dz <- lsoa %>%\n  bind_rows(dz)\n\n#WPC\nwpc %<>%\n  select(PCON21CD,PCON21NM)\n\nrm(lsoa,dz)"
  },
  {
    "objectID": "content/blog/2022-09-28-Energy-Data/index.html#energy-performance-certificate-data",
    "href": "content/blog/2022-09-28-Energy-Data/index.html#energy-performance-certificate-data",
    "title": "Mapping Energy Poverty",
    "section": "Energy Performance Certificate Data",
    "text": "Energy Performance Certificate Data\nEnergy Performance Certificate (EPC) data are available to download in bulk from this Department for Leveling Up, Housing & Communities website. This requires registration before download, and the extracted data are quite large (33 gig of unzipped .CSV files). For more information about EPC, the Energy Saving Trust website provides some useful details. The certificates are valid for 10 years and are mainly assigned to properties as part of the process of property purchase or rental. Bands run from A (better) to G (worse), based on the energy performance of the property. There area a huge range of different attributes within these data, however not all are needed for the purposes here, so are cut down.\nAfter download, the data was manually unzipped into a folder called “all-domestic-certificates” in the root of the analysis folder, and also processed with Apache Arrow.\n\n# List all the certificates files\n\nfiles <- list.files(path='.',pattern=\"certificates.csv\",recursive = TRUE) \n\n# Setup a schema for the certificates data\n\nsch <- schema(\nLMK_KEY =  string(), \nADDRESS1 =  string(), \nADDRESS2 =  string(), \nADDRESS3 =  string(), \nPOSTCODE =  string(), \nBUILDING_REFERENCE_NUMBER =  int64(), \nCURRENT_ENERGY_RATING =  string(), \nPOTENTIAL_ENERGY_RATING =  string(), \nCURRENT_ENERGY_EFFICIENCY =  int64(), \nPOTENTIAL_ENERGY_EFFICIENCY =  int64(), \nPROPERTY_TYPE =  string(), \nBUILT_FORM =  string(), \nINSPECTION_DATE = string(), \nLOCAL_AUTHORITY =  string(), \nCONSTITUENCY =  string(), \nCOUNTY =  string(), \nLODGEMENT_DATE = string(), \nTRANSACTION_TYPE =  string(), \nENVIRONMENT_IMPACT_CURRENT =  int64(), \nENVIRONMENT_IMPACT_POTENTIAL =  int64(), \nENERGY_CONSUMPTION_CURRENT =  int64(), \nENERGY_CONSUMPTION_POTENTIAL =  int64(), \nCO2_EMISSIONS_CURRENT =  double(), \nCO2_EMISS_CURR_PER_FLOOR_AREA =  double(), \nCO2_EMISSIONS_POTENTIAL =  double(), \nLIGHTING_COST_CURRENT =  int64(), \nLIGHTING_COST_POTENTIAL =  int64(), \nHEATING_COST_CURRENT =  int64(), \nHEATING_COST_POTENTIAL =  int64(), \nHOT_WATER_COST_CURRENT =  int64(), \nHOT_WATER_COST_POTENTIAL =  int64(), \nTOTAL_FLOOR_AREA =  double(), \nENERGY_TARIFF =  string(), \nMAINS_GAS_FLAG =  string(), \nFLOOR_LEVEL =  string(), \nFLAT_TOP_STOREY =  string(), \nFLAT_STOREY_COUNT =  int64(), \nMAIN_HEATING_CONTROLS =  int64(), \nMULTI_GLAZE_PROPORTION =  int64(), \nGLAZED_TYPE =  string(), \nGLAZED_AREA =  string(), \nEXTENSION_COUNT =  int64(), \nNUMBER_HABITABLE_ROOMS =  int64(), \nNUMBER_HEATED_ROOMS =  int64(), \nLOW_ENERGY_LIGHTING =  int64(), \nNUMBER_OPEN_FIREPLACES =  int64(), \nHOTWATER_DESCRIPTION =  string(), \nHOT_WATER_ENERGY_EFF =  string(), \nHOT_WATER_ENV_EFF =  string(), \nFLOOR_DESCRIPTION =  string(), \nFLOOR_ENERGY_EFF =  string(), \nFLOOR_ENV_EFF =  string(), \nWINDOWS_DESCRIPTION =  string(), \nWINDOWS_ENERGY_EFF =  string(), \nWINDOWS_ENV_EFF =  string(), \nWALLS_DESCRIPTION =  string(), \nWALLS_ENERGY_EFF =  string(), \nWALLS_ENV_EFF =  string(), \nSECONDHEAT_DESCRIPTION =  string(), \nSHEATING_ENERGY_EFF =  string(), \nSHEATING_ENV_EFF =  string(), \nROOF_DESCRIPTION =  string(), \nROOF_ENERGY_EFF =  string(), \nROOF_ENV_EFF =  string(), \nMAINHEAT_DESCRIPTION =  string(), \nMAINHEAT_ENERGY_EFF =  string(), \nMAINHEAT_ENV_EFF =  string(), \nMAINHEATCONT_DESCRIPTION =  string(), \nMAINHEATC_ENERGY_EFF =  string(), \nMAINHEATC_ENV_EFF =  string(), \nLIGHTING_DESCRIPTION =  string(), \nLIGHTING_ENERGY_EFF =  string(), \nLIGHTING_ENV_EFF =  string(), \nMAIN_FUEL =  string(), \nWIND_TURBINE_COUNT =  int64(), \nHEAT_LOSS_CORRIDOR =  string(), \nUNHEATED_CORRIDOR_LENGTH =  double(), \nFLOOR_HEIGHT =  double(), \nPHOTO_SUPPLY =  int64(), \nSOLAR_WATER_HEATING_FLAG =  string(), \nMECHANICAL_VENTILATION =  string(), \nADDRESS =  string(), \nLOCAL_AUTHORITY_LABEL =  string(), \nCONSTITUENCY_LABEL =  string(), \nPOSTTOWN =  string(), \nCONSTRUCTION_AGE_BAND =  string(), \nLODGEMENT_DATETIME =  timestamp(), \nTENURE =  string(), \nFIXED_LIGHTING_OUTLETS_COUNT =  int64(), \nLOW_ENERGY_FIXED_LIGHT_COUNT =  int64(), \nUPRN =  int64(), \nUPRN_SOURCE =  string())\n\n\n# Read the EPC Files\nepc <- open_dataset(files,\n  format = \"csv\",\n  skip = 1,\n  schema = sch,\n  timestamp_parsers = c(\"%Y-%m-%d %H:%M:%S\",\"%Y-%m-%d\"),\n  convert_options = CsvConvertOptions$create(null_values = c('','+7'))\n) # catch a couple of data errors on read\n\nAfter the dataset was created, postcodes were used to append the attributes of the ONSPD data created earlier. The date of the certificated lodgement was also recorded, and a new variable created to identify a property with a certificate within the highest energy performing bands of A,B and C.\n\n# Append ONSPD and create new variables\n\n\nbands <- epc %>%\n  mutate(YR = str_sub(LODGEMENT_DATE, 1, 4)) %>% #Create year variable\n  select(UPRN, POSTCODE, LODGEMENT_DATE, YR, CURRENT_ENERGY_RATING) %>% #subset\n  mutate(POSTCODE = gsub(' ', '', POSTCODE)) %>% #remove spaces\n  collect() %>% # pulls into R prior to gsub\n  mutate(CURRENT_ENERGY_RATING = gsub('INVALID!',\n                                    NA, CURRENT_ENERGY_RATING)) %>% #remove junk\n  mutate (ABC = if_else(\n    CURRENT_ENERGY_RATING %in% c(\"A\", \"B\", \"C\"),\n    \"Yes\",\n    \"No\",\n    missing = NULL\n  )) %>% #create a ABC variable\n  mutate(LODGEMENT_DATE2 = ymd(LODGEMENT_DATE)) #convert dates"
  },
  {
    "objectID": "content/blog/2022-09-28-Energy-Data/index.html#population-estimates",
    "href": "content/blog/2022-09-28-Energy-Data/index.html#population-estimates",
    "title": "Mapping Energy Poverty",
    "section": "Population Estimates",
    "text": "Population Estimates\nNext we download small area population estimates for England and Wales which are available at Output Areas level; and for Data Zones in Scotland. Aggregate statistics for areas are calculated for the total population and the those aged 65+.\n\n# England and Wales\n\n# URL list for E&W data\n\nurl_xlsx <-c(\"https://www.ons.gov.uk/file?uri=/peoplepopulationandcommunity/populationandmigration/populationestimates/datasets/censusoutputareaestimatesintheeastmidlandsregionofengland/mid2020sape23dt10f/sape23dt10fmid2020coaunformattedsyoaestimateseastmidlands.xlsx\",\"https://www.ons.gov.uk/file?uri=/peoplepopulationandcommunity/populationandmigration/populationestimates/datasets/censusoutputareaestimatesintheeastregionofengland/mid2020sape23dt10h/sape23dt10hmid2020coaunformattedsyoaestimateseast.xlsx\",\"https://www.ons.gov.uk/file?uri=/peoplepopulationandcommunity/populationandmigration/populationestimates/datasets/censusoutputareaestimatesinthelondonregionofengland/mid2020sape23dt10a/sape23dt10amid2020coaunformattedsyoaestimateslondon.xlsx\",\"https://www.ons.gov.uk/file?uri=/peoplepopulationandcommunity/populationandmigration/populationestimates/datasets/censusoutputareaestimatesinthenortheastregionofengland/mid2020sape23dt10d/sape23dt10dmid2020coaunformattedsyoaestimatesnortheast.xlsx\",\"https://www.ons.gov.uk/file?uri=/peoplepopulationandcommunity/populationandmigration/populationestimates/datasets/censusoutputareaestimatesinthenorthwestregionofengland/mid2020sape23dt10b/sape23dt10bmid2020coaunformattedsyoaestimatesnorthwest.xlsx\",\"https://www.ons.gov.uk/file?uri=/peoplepopulationandcommunity/populationandmigration/populationestimates/datasets/censusoutputareaestimatesinthesoutheastregionofengland/mid2020sape23dt10i/sape23dt10imid2020coaunformattedsyoaestimatessoutheast.xlsx\",\"https://www.ons.gov.uk/file?uri=/peoplepopulationandcommunity/populationandmigration/populationestimates/datasets/censusoutputareaestimatesinthesouthwestregionofengland/mid2020sape23dt10g/sape23dt10gmid2020coaunformattedsyoaestimatessouthwest.xlsx\",\"https://www.ons.gov.uk/file?uri=/peoplepopulationandcommunity/populationandmigration/populationestimates/datasets/censusoutputareaestimatesinwales/mid2020sape23dt10j/sape23dt10jmid2020coaunformattedsyoaestimateswales.xlsx\",\n\"https://www.ons.gov.uk/file?uri=/peoplepopulationandcommunity/populationandmigration/populationestimates/datasets/censusoutputareaestimatesinthewestmidlandsregionofengland/mid2020sape23dt10e/sape23dt10emid2020coaunformattedsyoaestimateswestmidlands.xlsx\",\"https://www.ons.gov.uk/file?uri=/peoplepopulationandcommunity/populationandmigration/populationestimates/datasets/censusoutputareaestimatesintheyorkshireandthehumberregionofengland/mid2020sape23dt10c/sape23dt10cmid2020coaunformattedsyoaestimatesyorkshireandthehumber.xlsx\")\n\n\n# XLSX Reading Function\n\nread_xlsx_files <- function(x){\n  \n  f <- curl::curl_download(x, tempfile(fileext = \".xlsx\"))\n  \n   df <- read_xlsx(f, sheet = \"Mid-2020 Persons\",skip = 4)\n   return(df)\n }\n  \n\nPop_EW <- lapply(url_xlsx, read_xlsx_files ) %>%\n   bind_rows()\n\n# Create aggregates and derived variables\n\nPop_EW %<>%\n clean_names() %>%\n  mutate(population_aged_65_and_over = (x65 + x66 + x67 + x68 + x69 + x70 + x71\n                                        + x72 + x73 + x74 + x75 + x76 + x77 + \n                                          x78 + x79 + x80 + x81 + x82 + x83 + \n                                          x84 + x85 + x86 + x87 + x88 + x89 + \n                                          x90)) %>%\n  rename(total_population = all_ages) %>%\n  select(oa11cd,total_population,population_aged_65_and_over) %>%\n   group_by(oa11cd) %>% \n  summarize(total_population = sum(total_population),\n            population_aged_65_and_over = sum(population_aged_65_and_over))\n\n# Scotland\n\nf <- curl::curl_download(\"https://www.nrscotland.gov.uk/files//statistics/population-estimates/sape-20/sape-20-all-tabs-and-figs.zip\", tempfile(fileext = \".zip\"))\nunzip(f,files=\"sape-20-all-tabs-and-figs_TabA.csv\")\n\nPop_S <- vroom(\"sape-20-all-tabs-and-figs_TabA.csv\",skip = 2) %>%\n  clean_names() %>%\n  filter(!is.na(data_zone2011code)) %>%\n  filter(!is.na(population_aged_65_and_over)) %>%\n  select(data_zone2011code,total_population,population_aged_65_and_over) %>%\n  rename(LSOA_DZ = data_zone2011code)\n\nunlink(\"sape-20-all-tabs-and-figs_TabA.csv\")\n\nA second stage then apportions the area level population estimates by postcode, using the number of UPRN per postcode as an apportionment factor. Thus, if an area had two postcodes within it, with UPRN split between them in a ratio of 75% and 25%: then the population would be split into postcodes using the same proportion; following the assumption that population follows UPRN (i.e. address) count.\n\n# Count UPRN by Postcode\n\npcd_uprn_N <- open_dataset(\"./parquet/uprn.parquet\") %>%\n  select(PCDS) %>%\n  group_by(PCDS) %>%\n  summarise(UPRN_Count = n()) %>%\n  collect() \n\n# onspd - OA and LSOA / DZ Codes\n\nonspd <- open_dataset(\"./parquet/onspd.parquet\") %>%\n  filter(ctry %in% c(\"E92000001\",\"S92000003\",\"W92000004\"), # Keep E,S,W\n        is.na(doterm)) %>% # Not terminated\n  select(pcd,oa11,lsoa11) %>%\n  mutate(pcd = gsub(' ', '', pcd)) %>%\n  collect()\n\n# Join UPRN Counts to ONSPD\n\npcd_uprn_N %<>%\n    left_join(onspd, by = c(\"PCDS\" = \"pcd\")) #join UPRN Counts\n\n\n# Create OA file for apportionment - note - \n# some missing OA as there are no postcodes within them\n\nOA_UPRN_N <- pcd_uprn_N %>%\n                    group_by(oa11,PCDS) %>%\n                    summarise(UPRN_Count = sum(UPRN_Count)) %>%\n                     mutate( UPRN_Prop = (UPRN_Count / sum(UPRN_Count)))\n\n\n# Create LSOA / DZ file for apportionment - some missing DZ as\n# there are no postcodes within them\n\nLSOA_DZ_UPRN_N <- pcd_uprn_N %>%\n                    group_by(lsoa11,PCDS) %>%\n                    summarise(UPRN_Count = sum(UPRN_Count)) %>%\n                     mutate( UPRN_Prop = (UPRN_Count / sum(UPRN_Count)))\n\n\n#Filter the OA to England and Wales; and DZ to Scotland\n\nOA_UPRN_N %<>%\n      filter(substr(oa11, 1, 1) %in% c(\"E\",\"W\"))\n\nLSOA_DZ_UPRN_N %<>%\n      filter(substr(lsoa11, 1, 1) %in% \"S\")\n\nNext we can append the population data to the apportionment files for England and Wales using OA, and DZ in Scotland. The proportions by postcode are then used to calculate new population variables.\n\n# England and Wales\n\nOA_UPRN_N %<>%\n  ungroup() %>%\n  left_join(Pop_EW, by = c(\"oa11\" = \"oa11cd\")) %>%\n  mutate(total_population_PCD = round(total_population * UPRN_Prop)) %>%\n  mutate(population_aged_65_and_over_PCD = \n           round(population_aged_65_and_over * UPRN_Prop)) %>%\n  select(PCDS,total_population_PCD, population_aged_65_and_over_PCD)\n\n# Scotland\n\nLSOA_DZ_UPRN_N %<>%\n  ungroup() %>%\n  left_join(Pop_S, by = c(\"lsoa11\" = \"LSOA_DZ\")) %>%\n  mutate(total_population_PCD = round(total_population * UPRN_Prop)) %>%\n  mutate(population_aged_65_and_over_PCD = round(population_aged_65_and_over * UPRN_Prop)) %>%\n  select(PCDS,total_population_PCD, population_aged_65_and_over_PCD)\n\n\nPCD_Pop <- OA_UPRN_N %>%\n  bind_rows(LSOA_DZ_UPRN_N)\n\nWe then can create a postcode population lookup. This will have fewer rows than the total ONSPD as only contains those postcodes where there were UPRN.\n\nonspd <- open_dataset(\"./parquet/onspd.parquet\") %>%\n  filter(ctry %in% c(\"E92000001\", \"S92000003\", \"W92000004\"), # Keep E, S, W\n         is.na(doterm)) %>% # Not terminated\n  select(pcd, oseast1m, osnrth1m, pcon) %>%\n  mutate(pcd = gsub(' ', '', pcd)) %>%\n  collect()\n\nPCD_Pop %<>%\n  left_join(onspd, by = c(\"PCDS\" = \"pcd\"))"
  },
  {
    "objectID": "content/blog/2022-09-28-Energy-Data/index.html#energy-efficient-properties",
    "href": "content/blog/2022-09-28-Energy-Data/index.html#energy-efficient-properties",
    "title": "Mapping Energy Poverty",
    "section": "Energy Efficient Properties",
    "text": "Energy Efficient Properties\nWe can now create a list of the latest EPC assessments for each UPRN, and calculate the proportion of A,B,C certificates nationally and for a selected geography. This first involves identifying the most recent EPC for any given property.\n\n# For each UPRN nationally, select the most recent EPC\n\nlatest_epc_national <- bands %>%\n    group_by(UPRN) %>%\n    slice(which.max(LODGEMENT_DATE2)) %>% # uses the latest UPRN assesment\n    filter(!is.na(UPRN)) %>% \n    as_tibble()\n\n\n\n\nWe can now calculate the proportion of ABC certificates by location and year.\n\n# Calculate the proportion of ABC certificates by year nationally\n\nepc_change_graph_national <- latest_epc_national %>%\n  select(YR, ABC) %>%\n  group_by(YR, ABC) %>%\n  summarise(count = n()) %>%\n  mutate(prop = (count / sum(count)))\n\n# Calculate the proportion of ABC certificates by year for the WPC\n\nepc_change_graph_wpc <- latest_epc_national %>%\n  filter(pcon == wpc_map) %>%\n  select(YR, ABC) %>%\n  group_by(YR, ABC) %>%\n  summarise(count = n()) %>%\n  mutate(prop = (count / sum(count))) %>%\n  mutate(Geography = wpc_map)\n\n#Combined data for a plot\n\nepc_change_graph <- epc_change_graph_national %>%\n  mutate(Geography = \"England and Wales\") %>%\n  bind_rows(epc_change_graph_wpc)\n\nThe proportion of EPC assessments with an A,B or C outcome by UPRN can then be mapped over time. The national proportions for England and Wales are shown in green, and the selected area in orange. The red line indicates the ten year cutoff for certificates expiring.\n\nepc_change_graph %>%\n  filter(ABC == \"Yes\") %>%\n  ggplot(aes(x = as.numeric(YR), y = prop, group = Geography)) +\n  geom_line(aes(color = Geography)) +\n  scale_colour_manual(values = c(\"#E17A47\", \"#4AB19D\")) +\n  geom_vline(xintercept = as.numeric(max(epc_change_graph$YR)) - 10,\n             linetype = \"dotted\",\n             color = \"#EF3D59\") + # Adds a red line for certificate expiry\n  geom_point(colour = \"#344E5C\") +\n  scale_x_continuous(breaks = seq(2008, 2022, by = 1)) +\n  scale_y_continuous(labels = percent_format()) +\n  labs(x = \"Year\", y = \"%\") \n\n\n\n\nFigure 1: The proportion of EPC assessments with an A,B or C rating."
  },
  {
    "objectID": "content/blog/2022-09-28-Energy-Data/index.html#calculating-the-proportion-of-uprn-within-an-area-holding-a-valid-energy-performance-certificate",
    "href": "content/blog/2022-09-28-Energy-Data/index.html#calculating-the-proportion-of-uprn-within-an-area-holding-a-valid-energy-performance-certificate",
    "title": "Mapping Energy Poverty",
    "section": "Calculating the proportion of UPRN within an area holding a valid Energy Performance Certificate",
    "text": "Calculating the proportion of UPRN within an area holding a valid Energy Performance Certificate\nTo gauge the completeness of certificates within an area, a count of UPRN are compared to the number of UPRN that have been attributed an EPC within the past 10 years (period of certificate validity).\n\n# Subset of EPC for WPC\n\nEPC_WPC <- latest_epc_national %>%\nfilter(pcon == wpc_map, LODGEMENT_DATE2 > '2011-12-31') %>%\nselect(UPRN,CURRENT_ENERGY_RATING)\n\nIn E14000795 there are 773 assessments without a UPRN, however, for the 24641 remaining assessments with a UPRN over the past 10 years, the distribution of their most current assessment is as follows:\n\nEPC_WPC %>%\nggplot(aes(CURRENT_ENERGY_RATING)) +\n  geom_bar(aes(y=..count../sum(..count..)),fill=\"#4AB19D\") +\n  scale_y_continuous(labels=percent_format()) +\n  labs(x=\"EPC Current Rating\",y=\"%\") +\n  theme(legend.position = \"none\")\n\n\n\n\nFigure 2: Certificate Distribution of Addresses Assessed."
  },
  {
    "objectID": "content/blog/2022-09-28-Energy-Data/index.html#assessed-properties",
    "href": "content/blog/2022-09-28-Energy-Data/index.html#assessed-properties",
    "title": "Mapping Energy Poverty",
    "section": "Assessed Properties",
    "text": "Assessed Properties\nWe can now calculate the proportion of properties with an EPC assessment.\n\n# Subset uprn to the wpc\ntot_uprn <- open_dataset(\"./parquet/uprn.parquet\") %>%\n  filter(PCON19CD == wpc_map) %>%\n  nrow()\n\n# Total EPC within the wpc\ntot_uprn_wpc <- EPC_WPC %>%\n  nrow()\n\n# Setup dummy data frame and add values\ndf <- data.frame(matrix(nrow=1, ncol = 2))\nnames(df) <- c(\"variable\", \"percentage\")\ndf$variable <- c(\"UPRN\")\ndf$percentage <- tot_uprn_wpc / tot_uprn\n\n\nggplot(df, aes(\n  ymax = percentage,\n  ymin = 0,\n  xmax = 2,\n  xmin = 1\n)) +\n  geom_rect(aes(\n    ymax = 1,\n    ymin = 0,\n    xmax = 2,\n    xmin = 1\n  ), fill = \"#4AB19D\") +\n  geom_rect(fill = \"#E17A47\") +\n  coord_polar(theta = \"y\", start = -pi / 2) + xlim(c(0, 2)) + ylim(c(0, 2)) +\n  geom_text(\n    aes(\n      x = 0,\n      y = 0,\n      label = paste0(round(tot_uprn_wpc / tot_uprn * 100), \"%\")\n    ),\n    size = 12,\n    family = \"Poppins SemiBold\",\n    colour = \"#E17A47\"\n  ) +\n  geom_text(\n    aes(x = 0.5, y = 1.5, label = \"Properties with a valid EPC\"),\n    family = \"Poppins Light\",\n    size = 4.2\n  ) +\n  theme_void() +\n  theme(\n    strip.background = element_blank(),\n    strip.text.x = element_blank(),\n    legend.position = \"none\"\n  )\n\n\n\n\nFigure 3: EPC Completeness."
  },
  {
    "objectID": "content/blog/2022-09-28-Energy-Data/index.html#calculate-values-to-map",
    "href": "content/blog/2022-09-28-Energy-Data/index.html#calculate-values-to-map",
    "title": "Mapping Energy Poverty",
    "section": "Calculate Values to Map",
    "text": "Calculate Values to Map\nThe mean cost of gas and electricity per meter is calculated for a year within a LSOA / DZ and then compared to estimated income. The proportion of income is calculated and a new variable added where these are greater than 10%. The costs for electricity and gas are based on the average unit price for dual fuel customers who pay by direct debit and derived from this [government announcement](https://www.gov.uk/government/publications/energy-bills-support/energy-bills-support-factsheet-8-september-2022). This ignores the potential for people living in different areas to mitigate costs through behaviour change and assumes one type of billing. Costs may be high for those who pay through other means such as card meters.\n\nElectricity /kWh - 34\nGas /kWh - 10.3\nStanding Charge (Gas) - 28\nStanding Charge (Electricity) - 46\n\n\n# Mean Electricity and Gas Cost (per meter) & Proportion of income\nlsoa_dz %<>%\n  mutate(electricity = (((elec_total_consumption_k_wh * elec_cost_kw)/100)/\n                          number_of_meters_elec) + ((standing_elec * 365)/100)) %>% \n  mutate(gas = (((gas_total_consumption_k_wh * gas_cost_kw)/100)/\n                  number_of_meters_gas) + ((standing_gas * 365)/100)) %>%\n  mutate(prop_income = 100 / total_annual_income_21 * (gas + electricity)) %>% \n  mutate(Fuel_Poverty = if_else(prop_income >= 10, \"Yes\",\"No\"))"
  },
  {
    "objectID": "content/blog/2022-09-28-Energy-Data/index.html#intersecting-lsoa-dz-and-wpc",
    "href": "content/blog/2022-09-28-Energy-Data/index.html#intersecting-lsoa-dz-and-wpc",
    "title": "Mapping Energy Poverty",
    "section": "Intersecting LSOA / DZ and WPC",
    "text": "Intersecting LSOA / DZ and WPC\nBecause LSOA / DZ do not perfectly nest within Westminster Parliamentary Constituencies, it is first necessary to build a table of these intersections.\n\n# Identify the intersection of LSOA / DZ and WPC \n\nlsoa_dz_wpc <- st_intersects(lsoa_dz,wpc,sparse = FALSE)\nlsoa_dz_wpc <- as_tibble(lsoa_dz_wpc,.name_repair = \"minimal\") %>%\n  setNames(wpc$PCON21CD)\n\n# Append to LSOA / DZ SF\n\nlsoa_dz %<>%\n  bind_cols(lsoa_dz_wpc)"
  },
  {
    "objectID": "content/blog/2022-09-28-Energy-Data/index.html#residential-electricity-and-gas-cost-maps",
    "href": "content/blog/2022-09-28-Energy-Data/index.html#residential-electricity-and-gas-cost-maps",
    "title": "Mapping Energy Poverty",
    "section": "Residential Electricity and Gas Cost Maps",
    "text": "Residential Electricity and Gas Cost Maps\nThe annual cost of electricity and gas in £000s can now be mapped.\n\n# Calculate Breaks for electricty \n\nclasses <-  classIntervals(round(t_lsoa_dz$electricity,digits = 0), n=5,\n                           style=\"quantile\")\n\n# Extract breaks and round values, accounting for the upper and lower bounds\n\nbreaks <- classes$brks\nbreaks[[1]] <- breaks[[1]] -1\nbreaks[[6]] <- breaks[[6]] +1\n  \nt_lsoa_dz %<>%\n  mutate(electricity_c = cut(electricity, round(breaks), dig.lab=10)) %>%\n  mutate(electricity_l = str_replace_all(electricity_c, c(\"\\\\(\" = \"\", \"\\\\]\" = \"\",\n                                                          \"\\\\,\" = \"-\")))\n\n\n# Calculate Breaks for gas\n\nclasses <-  classIntervals(round(t_lsoa_dz$gas,digits = 0), n=5,\n                           style=\"quantile\")\n\n# Extract breaks and round values, accounting for the upper and lower bounds\n\nbreaks <- classes$brks\nbreaks[[1]] <- breaks[[1]] -1\nbreaks[[6]] <- breaks[[6]] +1\n  \nt_lsoa_dz %<>%\n  mutate(gas_c = cut(gas, round(breaks), dig.lab=10)) %>%\n  mutate(gas_l = str_replace_all(gas_c, c(\"\\\\(\" = \"\", \"\\\\]\" = \"\",\n                                          \"\\\\,\" = \"-\")))\n\n\nggplot() +\n  geom_sf(\n    data = t_lsoa_dz,\n    mapping = aes(fill = electricity_l),\n    alpha = 1,\n    colour = \"#4b4b4b\",\n    size = 0.3\n  ) +\n  scale_fill_brewer(palette = \"PuBu\", name = \"£000s\") +\n  theme(\n    panel.background = element_blank(),\n    line = element_blank(),\n    axis.text = element_blank(),\n    axis.title = element_blank()\n  ) +\n  coord_sf(datum = NA)\n\n\n\n\nFigure 4: Estimated Electricity Costs.\n\n\n\n\n\nggplot() +\n  geom_sf(\n    data = t_lsoa_dz,\n    mapping = aes(fill = gas_l),\n    alpha = 1,\n    colour = \"#4b4b4b\",\n    size = 0.3\n  ) +\n  scale_fill_brewer(palette = \"PuBu\", name = \"£000s\") +\n  theme(\n    panel.background = element_blank(),\n    line = element_blank(),\n    axis.text = element_blank(),\n    axis.title = element_blank()\n  ) +\n  coord_sf(datum = NA)\n\n\n\n\nFigure 5: Estimated Gas Costs."
  },
  {
    "objectID": "content/blog/2022-09-28-Energy-Data/index.html#proportion-of-income",
    "href": "content/blog/2022-09-28-Energy-Data/index.html#proportion-of-income",
    "title": "Mapping Energy Poverty",
    "section": "Proportion of Income",
    "text": "Proportion of Income\n\n\n\nThe following map illustrates the proportion of income that is estimated to be spent on electricity and gas. Those areas where this exceeds 10% are highlighted in red.\nThere are an estimated 143people who spend more than 10% of their income on fuel, with 9 of these being over 65 years of age.A file containing the postcodes within this area can be downloaded here\n\n# Calculate Breaks\nclasses <-  classIntervals(t_lsoa_dz$prop_income, n=5, style=\"equal\")\nbreaks <- classes$brks\n\n\nggplot() +\n  geom_sf(\n    data = t_lsoa_dz,\n    mapping = aes(fill = prop_income, color = Fuel_Poverty),\n    lwd = 0.3\n  ) +\n  scale_fill_viridis_c(\n    name = \"Fuel as a \\n % of Income \\n\",\n    breaks = classes$brks,\n    labels = round(breaks, digits = 1),\n    aesthetics = \"fill\"\n  ) +\n  scale_color_manual(\n    values = c(\"red\", \"#D3D3D3\"),\n    name = \"Fuel Poverty\",\n    breaks = c('Yes', 'No')\n  ) +\n  theme(\n    panel.background = element_blank(),\n    line = element_blank(),\n    axis.text = element_blank(),\n    axis.title = element_blank()\n  ) +\n  coord_sf(datum = NA)\n\n\n\n\nFigure 6: Estimated Proportion of Income Spent on Gas and Electricity.\n\n\n\n\nThe following is an interactive version of the same map.\n\ntmap_mode(\"view\")\n\n\ntm_shape(t_lsoa_dz) +\n  tm_basemap(leaflet::providers$CartoDB.Positron) +\n  tm_fill(\n    \"prop_income\",\n    popup.vars = c(\"Proportion of Income: \" = \"prop_income\"),\n    id = \"LSOA_DZ\",\n    group = NULL,\n    alpha = 0.8,\n    n = 5,\n    palette = viridisLite::viridis(5),\n    \n    # title of the legend\n    title = \"Proportion of Income\",\n    legend.reverse = TRUE\n  ) +\n  tm_borders(col = \"#D3D3D3\", lwd = 0.7, group = NULL) +\n  \n  tm_shape(t_lsoa_dz %>% filter(Fuel_Poverty == \"Yes\")) +\n  tm_borders(col = \"red\", lwd = 1, group = NULL) +\n  tm_add_legend(\"fill\",\n                col = \"red\",\n                labels = \"Yes\",\n                title = \"Fuel Poverty\") +\n  tm_view(set.view = 13)"
  },
  {
    "objectID": "content/books/Big_Spatial_Data.html",
    "href": "content/books/Big_Spatial_Data.html",
    "title": "The Rise of Big Spatial Data",
    "section": "",
    "text": "Presents papers summarizing the latest research findings in the area of big spatial data. Offers a multidisciplinary focus with papers analysing key problems related to big spatial data utilisation.Provides a combination of theoretical papers and applications.\n\nSpringer Website"
  },
  {
    "objectID": "content/books/book_consumer_data.html",
    "href": "content/books/book_consumer_data.html",
    "title": "Consumer Data Research",
    "section": "",
    "text": "Big Data collected by customer-facing organisations – such as smartphone logs, store loyalty card transactions, smart travel tickets, social media posts, or smart energy meter readings – account for most of the data collected about citizens today. As a result, they are transforming the practice of social science. Consumer Big Data are distinct from conventional social science data not only in their volume, variety and velocity, but also in terms of their provenance and fitness for ever more research purposes. The contributors to this book, all from the Consumer Data Research Centre, provide a first consolidated statement of the enormous potential of consumer data research in the academic, commercial and government sectors – and a timely appraisal of the ways in which consumer data challenge scientific orthodoxies.\n\nUCL Press Website"
  },
  {
    "objectID": "content/books/book_geocomputation.html",
    "href": "content/books/book_geocomputation.html",
    "title": "Geocomputation",
    "section": "",
    "text": "Geocomputation is the use of software and computing power to solve complex spatial problems. It is gaining increasing importance in the era of the 'big data' revolution, of 'smart cities', of crowdsourced data, and of associated applications for viewing and managing data geographically - like Google Maps. This student focused book:\n\nProvides a selection of practical examples of geocomputational techniques and 'hot topics' written by world leading practitioners.\nIntegrates supporting materials in each chapter, such as code and data, enabling readers to work through the examples themselves.\n\nChapters provide highly applied and practical discussions of:\n\nVisualisation and exploratory spatial data analysis\nSpace time modelling\nSpatial algorithms\nSpatial regression and statistics\nEnabling interactions through the use of neogeography\n\nAll chapters are uniform in design and each includes an introduction, case studies, conclusions - drawing together the generalities of the introduction and specific findings from the case study application – and guidance for further reading.\nThis accessible text has been specifically designed for those readers who are new to Geocomputation as an area of research, showing how complex real-world problems can be solved through the integration of technology, data, and geocomputational methods. This is the applied primer for Geocomputation in the social sciences.\n\nSage Website\nSupporting Materials"
  },
  {
    "objectID": "content/books/book_urban_analytics.html",
    "href": "content/books/book_urban_analytics.html",
    "title": "Urban Analytics",
    "section": "",
    "text": "The economic and political situation of cities has shifted in recent years in light of rapid growth amidst infrastructure decline, the suburbanization of poverty and inner city revitalization. At the same time, the way that data are used to understand urban systems has changed dramatically.\nUrban Analytics offers a field-defining look at the challenges and opportunities of using new and emerging data to study contemporary and future cities through methods including GIS, Remote Sensing, Big Data and Geodemographics.\nWritten in an accessible style and packed with illustrations and interviews from key urban analysts, this is a groundbreaking new textbook for students of urban planning, urban design, geography, and the information sciences.\n\nSage Website\nGithub Supporting Materials"
  },
  {
    "objectID": "content/books/educational_opportunities.html",
    "href": "content/books/educational_opportunities.html",
    "title": "Educational Opportunities",
    "section": "",
    "text": "While in recent years the burgeoning Higher Education (HE) sector has been set an agenda of widening participation, few HE institutions have strategies in place for reaching the full range of potential students most likely to benefit from (and successfully complete) their current subject and course offerings. Universities and colleges are often unsystematic in the ways in which they identify schools and colleges for outreach and widening participation initiatives, and sometimes uncoordinated in how they present the full institutional profile of subjects of study in these activities. Using innovative methodology, this book sets out some relevant aspects of the changing HE policy-setting arena and presents a systematic framework for broadening participation and extending access in an era of variable fees. In particular, the book illustrates how HE data and publicly available sources might enable institutions to move from piecemeal analysis of their intake to institution-wide strategic and geographical market area analysis for existing and potential subject and course offerings.\n\nRoutledge Website"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Alex Singleton",
    "section": "",
    "text": "I am a Professor of Geographic Information Science at the University of Liverpool, Deputy Director of the ESRC Consumer Data Research Centre (CDRC) and Director of the ESRC Data Analytics & Society CDT. In a general sense my research is concerned with how the complexities of individual behaviours, attitudes and contexts manifest spatially, and can be represented and understood though a framework of geographic data science."
  },
  {
    "objectID": "index.html#education",
    "href": "index.html#education",
    "title": "Alex Singleton",
    "section": "Education",
    "text": "Education\nUniversity College London | London, UK PhD | 2003 - 2007\nUniversity of Manchester | Manchester, UK BSc in Geography | 2000- 2003"
  },
  {
    "objectID": "index.html#interests",
    "href": "index.html#interests",
    "title": "Alex Singleton",
    "section": "Interests",
    "text": "Interests\n\nGeographic Data Science\nUrban Analytics\nGIS\nGeodemographics"
  },
  {
    "objectID": "papers.html",
    "href": "papers.html",
    "title": "Papers",
    "section": "",
    "text": "Peer Reviewed Journals\n\nLan, T., O’Brien, O., Cheshire, J., Singleton, A., & Longley, P. (2022). From Data to Narratives: Scrutinising the Spatial Dimensions of Social and Cultural Phenomena Through Lenses of Interactive Web Mapping. Journal of Geovisualization and Spatial Analysis, 6(2). https://doi.org/10.1007/s41651-022-00117-x\n\n\nMacdonald, J. L., Dolega, L., & Singleton, A. (2022). An open source delineation and hierarchical classification of UK retail agglomerations. Scientific Data, 9(1). https://doi.org/10.1038/s41597-022-01556-3\n\n\nSpielman, S. E., & Singleton, A. D. (2022). A Generalized Model of Activity Space. Annals of the American Association of Geographers, 1–18. https://doi.org/10.1080/24694452.2022.2077165\n\n\nBallantyne, P., Singleton, A., & Dolega, L. (2021). A regional exploration of retail visits during the COVID-19 pandemic. Regional Studies, Regional Science, 8(1), 366–370. https://doi.org/10.1080/21681376.2021.1973548\n\n\nCalafiore, A., Palmer, G., Comber, S., Arribas-Bel, D., & Singleton, A. (2021). A geographic data science framework for the functional and contextual analysis of human dynamics within global cities. Computers, Environment and Urban Systems, 85, 101539. https://doi.org/10.1016/j.compenvurbsys.2020.101539\n\n\nGreen, M., Musi, E., Rowe, F., Charles, D., Pollock, F. D., Kypridemos, C., Morse, A., Rossini, P., Tulloch, J., Davies, A., Dearden, E., Maheswaran, H., Singleton, A., Vivancos, R., & Sheard, S. (2021). Identifying how COVID-19-related misinformation reacts to the announcement of the UK national lockdown: An interrupted time-series study. Big Data &Amp$\\mathsemicolon$ Society, 8(1), 205395172110138. https://doi.org/10.1177/20539517211013869\n\n\nPalmer, G., Green, M., Boyland, E., Vasconcelos, Y. S. R., Savani, R., & Singleton, A. (2021). A deep learning approach to identify unhealthy advertisements in street view images. Scientific Reports, 11(1). https://doi.org/10.1038/s41598-021-84572-4\n\n\nYao, L., Singleton, A., Sun, P., & Dong, G. (2021). The Evolution Characteristics and Influence Mechanism of Chinese Venture Capital Spatial Agglomeration. International Journal of Environmental Research and Public Health, 18(6), 2974. https://doi.org/10.3390/ijerph18062974\n\n\nChen, M., Arribas-Bel, D., & Singleton, A. (2020). Quantifying the Characteristics of the Local Urban Environment through Geotagged Flickr Photographs and Image Recognition. ISPRS International Journal of Geo-Information, 9(4), 264. https://doi.org/10.3390/ijgi9040264\n\n\nComber, S., Arribas-Bel, D., Singleton, A., & Dolega, L. (2020). Using convolutional autoencoders to extract visual features of leisure and retail environments. Landscape and Urban Planning, 202, 103887. https://doi.org/10.1016/j.landurbplan.2020.103887\n\n\nLiu, Y., Singleton, A., & Arribas-Bel, D. (2020). Considering context and dynamics: A classification of transit-orientated development for New York City. Journal of Transport Geography, 85, 102711. https://doi.org/10.1016/j.jtrangeo.2020.102711\n\n\nSingleton, A., Alexiou, A., & Savani, R. (2020). Mapping the geodemographics of digital inequality in Great Britain: An integration of machine learning into small area estimation. Computers, Environment and Urban Systems, 82, 101486. https://doi.org/10.1016/j.compenvurbsys.2020.101486\n\n\nSingleton, A., & Singleton, A. (2020). Using loyalty card records and machine learning to understand how self-medication purchasing behaviours vary seasonally in England, 2012–2014. Applied Marketing Analytics. https://tinyurl.com/ssbfx69s\n\n\nChen, M., Arribas-Bel, D., & Singleton, A. (2019). Understanding the dynamics of urban areas of interest through volunteered geographic information. Journal of Geographical Systems, 21(1), 89–109. https://doi.org/10.1007/s10109-018-0284-3\n\n\nComber, S., Arribas-Bel, D., Singleton, A., Dong, G., & Dolega, L. (2019). Building Hierarchies of Retail Centers Using Bayesian Multilevel Models. Annals of the American Association of Geographers, 110(4), 1150–1173. https://doi.org/10.1080/24694452.2019.1667219\n\n\nDaras, K., Green, M. A., Davies, A., Barr, B., & Singleton, A. (2019). Open data on health-related neighbourhood features in Great Britain. Scientific Data, 6(1), 107. https://doi.org/10.1038/s41597-019-0114-6\n\n\nDolega, L., Reynolds, J., Singleton, A., & Pavlis, M. (2019). Beyond retail: New ways of classifying UK shopping and consumption spaces. Environment and Planning B: Urban Analytics and City Science. https://doi.org/10.1177/2399808319840666\n\n\nLiu, Y., Singleton, A., & Arribas-Bel, D. (2019). A Principal Component Analysis (PCA)-based framework for automated variable selection in geodemographic classification. Geo-Spatial Information Science, 22(4), 251–264. https://doi.org/10.1080/10095020.2019.1621549\n\n\nSingleton, A. D., & Longley, P. A. (2019). Data infrastructure requirements for new geodemographic classifications: The example of London’s workplace zones. Applied Geography, 109. https://doi.org/10.1016/j.apgeog.2019.102038\n\n\nSingleton, A., & Arribas-Bel, D. (2019). Geographic Data Science. Geographical Analysis. https://doi.org/10.1111/gean.12194\n\n\nDavies, A., Green, M. A., & Singleton, A. D. (2018). Using machine learning to investigate self-medication purchasing in England via high street retailer loyalty card data. PLoS ONE, 13(11). https://doi.org/10.1371/journal.pone.0207523\n\n\nGreen, M. A., Daras, K., Davies, A., Barr, B., & Singleton, A. (2018). Developing an openly accessible multi-dimensional small area index of ?Access to Healthy Assets and Hazards? For Great Britain, 2016. Health and Place, 54, 11–19. https://doi.org/10.1016/j.healthplace.2018.08.019\n\n\nPavlis, M., Dolega, L., & Singleton, A. (2018). A Modified DBSCAN Clustering Method to Estimate Retail Center Extent. Geographical Analysis, 50(2), 141–161. https://doi.org/10.1111/gean.12138\n\n\nThiele, T., Pope, D., Singleton, A., & Stanistreet, D. (2018). Exploring the use of mixed methods in research and evaluation of widening participation interventions: Guidance for practitioners. Widening Participation and Lifelong Learning, 20(4), 7–38. https://doi.org/10.5456/wpll.20a.7\n\n\nHarris, R., O?Sullivan, D., Gahegan, M., Charlton, M., Comber, L., Longley, P., Brunsdon, C., Malleson, N., Heppenstall, A., Singleton, A., Arribas-Bel, D., & Evans, A. (2017). More bark than bytes? Reflections on 21+ years of geocomputation. Environment and Planning B: Urban Analytics and City Science, 44(4), 598–617. https://doi.org/10.1177/2399808317710132\n\n\nThiele, T., Pope, D., Singleton, A., Snape, D., & Stanistreet, D. (2017). Experience of disadvantage: The influence of identity on engagement in working class students? Educational trajectories to an elite university. British Educational Research Journal, 43(1), 49–67. https://doi.org/10.1002/berj.3251\n\n\nAlexiou, A., Singleton, A., & Longley, P. A. (2016). A classification of multidimensional open data for urban morphology. Built Environment, 42(3), 382–395. https://doi.org/10.2148/benv.42.3.382\n\n\nDolega, L., Pavlis, M., & Singleton, A. (2016). Estimating attractiveness, hierarchy and catchment area extents for a national set of retail centre agglomerations. Journal of Retailing and Consumer Services, 28, 78–90. https://doi.org/10.1016/j.jretconser.2015.08.013\n\n\nGale, C. G., Singleton, A. D., Bates, A. G., & Longley, P. A. (2016). Creating the 2011 area classification for output areas (2011 OAC). Journal of Spatial Information Science, 12(2016), 1–27. https://doi.org/10.5311/JOSIS.2016.12.232\n\n\nLloyd, C. D., Catney, G., & Singleton, A. (2016). Guest Editorial: Modelling Urban Behaviour. Applied Spatial Analysis and Policy, 9(2), 141–143. https://doi.org/10.1007/s12061-016-9195-1\n\n\nSingleton, A. D., Dolega, L., Riddlesden, D., & Longley, P. A. (2016). Measuring the spatial vulnerability of retail centres to online consumption through a framework of e-resilience. Geoforum, 69, 5–18. https://doi.org/10.1016/j.geoforum.2015.11.013\n\n\nSingleton, A. D., Spielman, S., & Brunsdon, C. (2016). Establishing a framework for Open Geographic Information science. International Journal of Geographical Information Science, 30(8), 1507–1521. https://doi.org/10.1080/13658816.2015.1137579\n\n\nSingleton, A., Pavlis, M., & Longley, P. A. (2016). The stability of geodemographic cluster assignments over an intercensal period. Journal of Geographical Systems, 18(2), 97–123.\n\n\nThiele, T., Pope, D., Singleton, A., & Stanistreet, D. (2016). Role of students’ context in predicting academic performance at a medical school: A retrospective cohort study. BMJ Open, 6(3). https://doi.org/10.1136/bmjopen-2015-010169\n\n\nRae, A., & Singleton, A. (2015). Putting big data in its place: A regional studies and regional science perspective. Regional Studies, Regional Science, 2(1), 1–5. https://doi.org/10.1080/21681376.2014.990678\n\n\nSingleton, A. D. (2015). Featured graphic. Transport mode choice and the commute to work. Environment and Planning A, 47(7), 1401–1403. https://doi.org/10.1177/0308518X15595752\n\n\nSingleton, A. D., & Longley, P. (2015). The internal structure of Greater London: A comparison of national and regional geodemographic models. Geo: Geography and Environment, 2(1), 69–87. https://doi.org/10.1002/geo2.7\n\n\nSpielman, S. E., & Singleton, A. (2015). Studying Neighborhoods Using Uncertain Data from the American Community Survey: A Contextual Approach. Annals of the Association of American Geographers, 105(5), 1003–1025. https://doi.org/10.1080/00045608.2015.1052335\n\n\nBearman, N., & Singleton, A. D. (2014). Modelling the potential impact on CO2 emissions of an increased uptake of active travel for the home to school commute using individual level data. Journal of Transport and Health, 1(4), 295–304. https://doi.org/10.1016/j.jth.2014.09.009\n\n\nHarris, R., Nicholas, T., Souch, C., Singleton, A., Orford, S., Keylock, C., Jarvis, C., & Brunsdon, C. (2014). Geographers Count: A Report on Quantitative Methods in Geography. Enhancing Learning in the Social Sciences, 6(2), 43–58. https://doi.org/10.11120/elss.2014.00035\n\n\nRae, A., & Singleton, A. (2014). Open access and regional studies, regional science. Regional Studies, Regional Science, 1(1), 1–4. https://doi.org/10.1080/21681376.2013.869423\n\n\nRiddlesden, D., & Singleton, A. D. (2014). Broadband speed equity: A new digital divide? Applied Geography, 52, 25–33. https://doi.org/10.1016/j.apgeog.2014.04.008\n\n\nSingleton, A. (2014). A GIS approach to modelling CO2 emissions associated with the pupil-school commute. International Journal of Geographical Information Science, 28(2), 256–273. https://doi.org/10.1080/13658816.2013.832765\n\n\nSingleton, A. D., & Spielman, S. E. (2014). The Past, Present, and Future of Geodemographic Research in the United States and United Kingdom. Professional Geographer, 66(4), 558–567. https://doi.org/10.1080/00330124.2013.848764\n\n\nSingleton, A., & Brunsdon, C. (2014). Escaping the pushpin paradigm in geographic information science: (Re)presenting national crime data. Area, 46(3), 294–304. https://doi.org/10.1111/area.12116\n\n\nThiele, T., Singleton, A., Pope, D., & Stanistreet, D. (2014). Predicting students’ academic performance based on school and socio-demographic characteristics. Studies in Higher Education, 41(8), 1424–1446. https://doi.org/10.1080/03075079.2014.974528\n\n\nAdnan, M., Longley, P. A., & Singleton, A. D. (2013). OACoder: Postcode Coding Tool. Journal of Open Research Software, 1(1), e5. https://doi.org/10.5334/511ba2c94d661\n\n\nPhillips, R., Frost, D., & Singleton, A. (2013). Researching the riots. Geographical Journal, 179(1), 3–10. https://doi.org/10.1111/j.1475-4959.2012.00463.x\n\n\nRiddlesden, D., Singleton, A. D., & Fischer, T. B. (2012). A survey of the use of geographic information systems in english local authority impact assessments. Journal of Environmental Assessment Policy and Management, 14(1). https://doi.org/10.1142/S1464333212500068\n\n\nSingleton, A. D. (2012). The geodemographics of access and participation in Geography. Geographical Journal, 178(3), 216–229. https://doi.org/10.1111/j.1475-4959.2012.00467.x\n\n\nSingleton, A. D., Wilson, A. G., & O’Brien, O. (2012). Geodemographics and spatial interaction: An integrated model for higher education. Journal of Geographical Systems, 14(2), 223–241. https://doi.org/10.1007/s10109-010-0141-5\n\n\nBrunsdon, C., Longley, P., Singleton, A., & Ashby, D. (2011). Predicting participation in higher education: A comparative evaluation of the performance of geodemographic classifications. Journal of the Royal Statistical Society. Series A: Statistics in Society, 174(1), 17–30. https://doi.org/10.1111/j.1467-985X.2010.00641.x\n\n\nMateos, P., Smith, M. de, & Singleton, A. A. (2011). Developments in Quantitative Human Geography, Urban Modelling, and Geographic Information Science. Transactions in GIS, 15(3), 249–252. https://doi.org/10.1111/j.1467-9671.2011.01258.x\n\n\nSingleton, A. D., & Lewis, D. J. (2011). Including Accident Information in Automatic Bicycle Route Planning for Urban Areas. Urban Studies Research, 2011, 1–10. https://doi.org/10.1155/2011/362817\n\n\nSingleton, A. D., Longley, P. A., Allen, R., & O’Brien, O. (2011). Estimating secondary school catchment areas and the spatial equity of access. Computers, Environment and Urban Systems, 35(3), 241–249. https://doi.org/10.1016/j.compenvurbsys.2010.09.006\n\n\nAdnan, M., Longley, P. A., Singleton, A. D., & Brunsdon, C. (2010). Towards real-time geodemographics: Clustering algorithm performance for large multidimensional spatial databases. Transactions in GIS, 14(3), 283–297. https://doi.org/10.1111/j.1467-9671.2010.01197.x\n\n\nCheshire, J. A., Longley, P. A., & Singleton, A. D. (2010). The surname regions of Great Britain. Journal of Maps, 6, 401–409. https://doi.org/10.4113/jom.2010.1103\n\n\nHarris, R., Singleton, A., Grose, D., Brunsdon, C., & Longley, P. (2010). Grid-enabling geographically weighted regression: A case study of participation in higher education in England. Transactions in GIS, 14(1), 43–61. https://doi.org/10.1111/j.1467-9671.2009.01181.x\n\n\nLongley, P. A., Singleton, A. D., Yano, K., & Nakaya, T. (2010). Lost in translation: Cross-cultural experiences in teaching geo-genealogy. Journal of Geography in Higher Education, 34(1), 21–38. https://doi.org/10.1080/03098260902982476\n\n\nSingleton, A. D. (2010). The geodemographics of educational progression and their implications for widening participation in higher education. Environment and Planning A, 42(11), 2560–2580. https://doi.org/10.1068/a42394\n\n\nLongley, P. A., & Singleton, A. D. (2009). Classification through consultation: Public views of the geography of the e-Society. International Journal of Geographical Information Science, 23(6), 737–763. https://doi.org/10.1080/13658810701704652\n\n\nLongley, P. A., & Singleton, A. D. (2009). Linking social deprivation and digital exclusion in England. Urban Studies, 46(7), 1275–1298. https://doi.org/10.1177/0042098009104566\n\n\nMateos, P., Singleton, A., & Longley, P. (2009). Uncertainty in the analysis of ethnicity classifications: Issues of extent and aggregation of ethnic groups. Journal of Ethnic and Migration Studies, 35(9), 1437–1460. https://doi.org/10.1080/13691830903125919\n\n\nSingleton, A. D. (2009). Data mining course choice sets and behaviours for target marketing of higher education. Journal of Targeting, Measurement and Analysis for Marketing, 17(3), 157–170. https://doi.org/10.1057/jt.2009.13\n\n\nSingleton, A. D., & Longley, P. A. (2009). Creating open source geodemographics: Refining a national classification of census output areas for applications in higher education. Papers in Regional Science, 88(3), 643–666. https://doi.org/10.1111/j.1435-5957.2008.00197.x\n\n\nSingleton, A. D., & Longley, P. A. (2009). Geodemographics, visualisation, and social networks in applied geography. Applied Geography, 29(3), 289–298. https://doi.org/10.1016/j.apgeog.2008.10.006\n\n\nGibin, M., Singleton, A., Milton, R., Mateos, P., & Longley, P. (2008). An Exploratory Cartographic Visualisation of London through the Google Maps API. Applied Spatial Analysis and Policy, 1(2), 85–97. https://doi.org/10.1007/s12061-008-9005-5\n\n\nHaklay, M., Singleton, A., & Parker, C. (2008). Web mapping 2.0: The neogeography of the GeoWeb. Geography Compass, 2(6), 2011–2039. https://doi.org/10.1111/j.1749-8198.2008.00167.x"
  }
]