{
  "hash": "a342827809f4afdaa9b3c171df878692",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"30 Day Map Challenge: Map Projections\"\ndate: \"2024-11-26\"\ncategories: [Maps]\nimage: \"D26.png\"\nexecute:\n  echo: true\n  message: false\n  warning: false\n---\n\n\n\n# Day 26: Map Projections\n\nAn inherent challenge when creating a map is how we represent the earth as a three-dimensional sphere as a two-dimensional surface. For today's map challenge, I have created as short tutorial that explores a series of different map projections.\n\n## Setup Packages\n\nFirst, we can load the required packages and extract some geographic data:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(sf)\nlibrary(rnaturalearth)\nlibrary(rnaturalearthdata)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load world map data using rnaturalearth package\nworld <- ne_countries(scale = \"medium\", returnclass = \"sf\")\n```\n:::\n\n\n\n## The Mercator Projection\n\nMercator is a very widely used map projection, and is notably used by Google Maps for its web mapping platform. A world map in a Mercator projection looks is shown below. Notice that there is a quite extreme size distortion near the poles.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = world) +\n  geom_sf() +\n  coord_sf(crs = 3857) +\n  theme_minimal() \n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n\nThe Mercator projection is a \\[conformal projection\\] (https://en.wikipedia.org/wiki/Conformal_map_projection) meaning that it is angle-preserving. This makes it very useful for navigation (see this article about[Rhumb Lines](https://en.wikipedia.org/wiki/Rhumb_line)). As noted above, it does have quite severe distortion of areas that are near the poles. Visually, Greenland is represented as being almost as large as Africa (Africa is actually about [14 times larger](https://mortenjonassen.dk/maps/greenland-vs-africa-size-comparison!)\n\n## The Equal Earth Projection\n\nThe [Equal Earth projection](https://en.wikipedia.org/wiki/Equal_Earth_projection) was created in 2018 and aimed to maintain relative size relationships while being visually pleasing.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = world) +\n  geom_sf() +\n   coord_sf(crs = 8857)  +\n  theme_minimal() \n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n\nThe Equal Earth projection maintains accurate size relationships between landmasses, featuring curved parallels and meridians while keeping distortion minimal near the equator.\n\n## Comparing Area Distortion\n\nThe following function and map aim to visualize relative area distortion for Mertcator.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncalculate_distortion <- function(world, projection) {\n  # Project the data\n  projected <- st_transform(world, projection)\n  \n  # Calculate areas\n  true_areas <- st_area(st_transform(world, \"+proj=eck4\"))  # Using Eckert IV as reference\n  projected_areas <- st_area(projected)\n  \n  # Calculate distortion ratio\n  distortion <- as.numeric(projected_areas / true_areas)\n  \n  return(distortion)\n}\n\n# Add distortion to our world data for Mercator\nmercator_crs <- \"+proj=merc\"\nworld <- world %>%\n  mutate(mercator_distortion = calculate_distortion(., mercator_crs))\n\n# Create distortion visualization\nggplot(data = world) +\n  geom_sf(aes(fill = mercator_distortion)) +\n  scale_fill_viridis_c(name = \"Area Distortion Ratio)\", \n                       trans = \"log\",\n                       labels = scales::number_format()) +\n  coord_sf(crs = 3857) +\n  theme_minimal() \n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n\nThis approach is fairly effective, but one of the best visual tools I've come across for exploring map projections is [The True Size Of](https://www.thetruesize.com/). For a full visual explanation of the issues with traditional maps, you can find a great write-up [here](https://www.visualcapitalist.com/problem-with-our-maps/).\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}